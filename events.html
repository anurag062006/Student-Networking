<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Events & Meetings</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 900px;
      margin: auto;
      padding: 1rem;
      background: #f9f9f9;
    }
    button.back-btn {
      margin-bottom: 15px;
      padding: 5px 10px;
      cursor: pointer;
    }
    h1 {
      text-align: center;
      margin-bottom: 1rem;
    }
    form {
      background: white;
      padding: 15px;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 6px #ddd;
      border-radius: 5px;
    }
    form input, form textarea {
      width: 100%;
      padding: 8px;
      margin-top: 6px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }
    form button {
      padding: 10px 20px;
      font-size: 1rem;
      cursor: pointer;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 4px;
    }
    .event {
      background: white;
      padding: 15px;
      margin-bottom: 1rem;
      border-radius: 5px;
      box-shadow: 0 0 6px #ddd;
    }
    .event h3 {
      margin: 0 0 5px 0;
    }
    .event-date {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 10px;
    }
    .event-desc {
      margin-bottom: 10px;
    }
    .like-btn {
      background: #eee;
      border: none;
      padding: 6px 12px;
      cursor: pointer;
      border-radius: 3px;
      margin-bottom: 10px;
      user-select: none;
    }
    .like-btn.liked {
      background: #4caf50;
      color: white;
    }
    .comments {
      margin-top: 10px;
      border-top: 1px solid #ccc;
      padding-top: 10px;
    }
    .comment {
      font-size: 0.9rem;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }
    .comment-input {
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }
    .comment-input input {
      flex: 1;
      padding: 6px;
      font-size: 1rem;
    }
    .comment-input button {
      padding: 6px 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<button class="back-btn" onclick="history.back()">‚Üê Back</button>

<h1>Events & Meetings</h1>

<form id="eventForm">
  <label>
    Event Title:
    <input type="text" id="eventTitle" required />
  </label>
  <label>
    Date:
    <input type="date" id="eventDate" required />
  </label>
  <label>
    Description:
    <textarea id="eventDesc" rows="3" required></textarea>
  </label>
  <button type="submit">Create Event</button>
</form>

<div id="eventsContainer"></div>

<script>
  let events = [];

  const form = document.getElementById('eventForm');
  const eventsContainer = document.getElementById('eventsContainer');

  form.addEventListener('submit', e => {
    e.preventDefault();

    const title = document.getElementById('eventTitle').value.trim();
    const date = document.getElementById('eventDate').value;
    const desc = document.getElementById('eventDesc').value.trim();

    const newEvent = {
      id: Date.now(),
      title,
      date,
      desc,
      likes: 0,
      likedByUser: false,
      comments: []
    };

    events.unshift(newEvent); // Add new event at top
    form.reset();
    renderEvents();
  });

  function renderEvents() {
    eventsContainer.innerHTML = "";
    if(events.length === 0) {
      eventsContainer.innerHTML = "<p>No events yet. Create one!</p>";
      return;
    }

    events.forEach(event => {
      const div = document.createElement('div');
      div.className = 'event';

      div.innerHTML = `
        <h3>${event.title}</h3>
        <div class="event-date">${event.date}</div>
        <div class="event-desc">${event.desc}</div>
        <button class="like-btn ${event.likedByUser ? "liked" : ""}">${event.likes} Like${event.likes !== 1 ? "s" : ""}</button>
        <div class="comments">
          ${event.comments.map(c => `<div class="comment">${c}</div>`).join('')}
          <div class="comment-input">
            <input placeholder="Add comment..." />
            <button>Add</button>
          </div>
        </div>
      `;

      // Like button logic
      const likeBtn = div.querySelector('.like-btn');
      likeBtn.onclick = () => {
        if(event.likedByUser){
          event.likes--;
        } else {
          event.likes++;
        }
        event.likedByUser = !event.likedByUser;
        renderEvents();
      };

      // Comment add logic
      const commentInput = div.querySelector('.comment-input input');
      const commentBtn = div.querySelector('.comment-input button');
      commentBtn.onclick = () => {
        const commentText = commentInput.value.trim();
        if(commentText){
          event.comments.push(commentText);
          commentInput.value = "";
          renderEvents();
        }
      };

      eventsContainer.appendChild(div);
    });
  }

  // Initial render
  renderEvents();

</script>

</body>
</html>
